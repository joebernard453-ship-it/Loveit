l<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lovit Social</title>
    <style>
        body {
            font-family: sans-serif;
            background: #121212;
            color: white;
            padding: 20px;
        }
        .navbar {
            display: flex;
            justify-content: space-around;
            padding-bottom: 20px;
        }
        .navbar a {
            color: #00ddff;
            text-decoration: none;
            font-weight: bold;
        }
        .post-card {
            background: #1f1f1f;
            margin: 15px 0;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
        }
        .btn {
            background: #00ddff;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            color: #000;
            font-weight: bold;
            margin-top: 10px;
        }
        #gallery img {
            width: 100%;
            margin-top: 15px;
            border-radius: 8px;
            display: block;
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="#">Home</a>
        <a href="#">Profile</a>
    </nav>

    <h1>Welcome to Lovit</h1>

    <div class="post-card">
        <h3>Share a Video</h3>
        <input type="file" id="videoInput" accept="video/*">
        <br>
        <button class="btn" onclick="previewVideo()">Preview Video</button>

        <div id="videoPreviewContainer" style="margin-top: 15px; display: none;">
            <video id="videoPlayer" width="100%" controls></video>
        </div>
    </div>

    <div class="post-card">
        <h3>Share an Image</h3>
        <button id="upload_widget" class="btn">Upload via Cloudinary</button>
        <div id="gallery"></div>
    </div>

    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>

    <script type="text/javascript">
        // 1. Video Preview Logic
        function previewVideo() {
            const fileInput = document.getElementById('videoInput');
            const videoPlayer = document.getElementById('videoPlayer');
            const container = document.getElementById('videoPreviewContainer');

            if (fileInput.files && fileInput.files[0]) {
                const fileURL = URL.createObjectURL(fileInput.files[0]);
                videoPlayer.src = fileURL;
                container.style.display = 'block';
            } else {
                alert("Please select a video file first!");
            }
        }

        // 2. Cloudinary Upload Logic
        const myWidget = cloudinary.createUploadWidget({
            cloudName: 'dxuc8p32q', 
            uploadPreset: 'loveit_uploads'
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                console.log('Done! Image URL: ', result.info.secure_url);
                const gallery = document.getElementById("gallery");
                const newImg = document.createElement("img");
                newImg.src = result.info.secure_url;
                gallery.appendChild(newImg);
            }
        });

        document.getElementById("upload_widget").addEventListener("click", function() {
            myWidget.open();
        }, false);
    </script>
</body>
</html>

